<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">

    <PreferenceCategory
        android:key="photo_category"
        android:title="Photo settings">

        <ListPreference
            android:key="photo_still_resolution_mode"
            android:title="Still capture resolution"
            android:defaultValue="common" />

        <ListPreference
            android:key="photo_noise_reduction"
            android:title="Noise reduction"
            android:defaultValue="off" />

        <ListPreference
            android:key="photo_distortion_correction"
            android:title="Distortion correction"
            android:defaultValue="hq" />

        <ListPreference
            android:key="photo_edge_mode"
            android:title="Edge mode"
            android:defaultValue="off" />

        <ListPreference
            android:key="photo_tone_mapping"
            android:title="Tone Mapping"
            android:defaultValue="auto" />

        <androidx.preference.SwitchPreferenceCompat
            android:key="photo_prime_uw_on_active"
            android:title="Prime UW when camera becomes active"
            android:summary="Workaround for some Pixel phones with ultrawide autofocus: performs one discarded ultrawide capture when the camera starts to avoid a blurry first photo."
            android:defaultValue="false" />

        <androidx.preference.SwitchPreferenceCompat
            android:key="photo_save_individual_images"
            android:title="Save individual wide/ultrawide photos"
            android:summary="When off, only the *_sbs.jpg file is written (recommended)"
            android:defaultValue="false" />
    </PreferenceCategory>

    <PreferenceCategory
        android:key="video_category"
        android:title="Video settings">

        <ListPreference
            android:key="video_resolution"
            android:title="Video resolution"
            android:defaultValue="" />

        <ListPreference
            android:key="video_fps"
            android:title="Video FPS"
            android:defaultValue="30" />

        <ListPreference
            android:key="video_bitrate_mbps"
            android:title="Video bitrate (Mbps)"
            android:defaultValue="50" />

        <!-- (4) Optional video request processing controls -->
        <ListPreference
            android:key="video_noise_reduction"
            android:title="Noise reduction (video)"
            android:defaultValue="off" />

        <ListPreference
            android:key="video_distortion_correction"
            android:title="Distortion correction (video)"
            android:defaultValue="fast" />

        <ListPreference
            android:key="video_edge_mode"
            android:title="Edge mode (video)"
            android:defaultValue="off" />
    </PreferenceCategory>

    <PreferenceCategory
        android:key="preview_category"
        android:title="Preview settings">

        <ListPreference
            android:key="preview_resolution"
            android:title="Preview resolution"
            android:defaultValue="" />

        <ListPreference
            android:key="preview_fps"
            android:title="Preview FPS"
            android:defaultValue="30" />
    </PreferenceCategory>

    <!-- (1)(2)(3) Debug settings -->
    <PreferenceCategory
        android:key="debug_category"
        android:title="Debugging (Advanced)">

        <androidx.preference.SwitchPreferenceCompat
            android:key="debug_video_log_enabled"
            android:title="Stereo video JSON log"
            android:summary="Write a JSON log per recording for sync/diagnostics"
            android:defaultValue="false" />

        <androidx.preference.SwitchPreferenceCompat
            android:key="debug_video_log_frames_only"
            android:title="Video log: frames only"
            android:summary="Only log frameNumber + sensor timestamps (smaller/faster)"
            android:defaultValue="false" />

        <androidx.preference.SwitchPreferenceCompat
            android:key="debug_photo_json_log"
            android:title="Stereo photo JSON log"
            android:summary="Write a tiny JSON log per photo for sync (sensor time + exposure per lens)"
            android:defaultValue="false" />

        <androidx.preference.SwitchPreferenceCompat
            android:key="debug_photo_sync_toast"
            android:title="Photo sync toast"
            android:summary="Show a quick Î”start/overlap toast after each photo"
            android:defaultValue="false" />

        <Preference
            android:key="debug_dump_camera_info"
            android:title="Dump device/camera info (one-time)"
            android:summary="Write a JSON dump (streams, fps ranges, capabilities, etc.) to Documents" />
    </PreferenceCategory>

</PreferenceScreen>